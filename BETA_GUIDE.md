# Beta 版本使用指南

## 🎉 欢迎使用 AutoAI Beta 版本！

这是一个包含基本功能的测试版本，可以完成简单到中等复杂度的自动化任务。

---

## ✅ 已实现的功能

### 核心功能
- ✅ **屏幕感知**: 自动截图和控件树解析
- ✅ **AI 决策**: 基于 VLM 的智能决策
- ✅ **自动执行**: 完整的执行循环（感知→决策→执行→验证）
- ✅ **任务管理**: 任务生命周期管理和历史记录
- ✅ **安全保护**: 支付场景检测和三级权限体系

### 用户界面
- ✅ **聊天界面**: 自然语言交互
- ✅ **任务进度**: 实时显示执行状态
- ✅ **设置界面**: API 配置管理

---

## 🚀 快速开始

### 1. 环境准备

**必需条件**:
- Android 8.0 或更高版本
- 已安装并激活 Shizuku
- 硅基流动 API Key

**安装 Shizuku** (如果未安装):
1. 下载: https://github.com/RikkaApps/Shizuku/releases
2. 安装应用
3. 激活服务（无线调试或 USB 调试）

**获取 API Key**:
1. 访问 https://cloud.siliconflow.cn/
2. 注册并登录
3. 创建 API Key

### 2. 首次配置

1. 打开 AutoAI 应用
2. 确认 Shizuku 状态为"已就绪"
3. 点击右上角设置图标
4. 填入配置:
   - **API Key**: 你的硅基流动 API Key
   - **Base URL**: `https://api.siliconflow.cn/`（默认）
   - **Model**: `Qwen/Qwen2-VL-7B-Instruct`（默认）
5. 点击"保存设置"

### 3. 开始使用

在聊天界面输入任务，例如：
- "打开微信"
- "在设置里找到开发者选项"
- "截图保存"

AI 会自动执行任务并反馈结果。

---

## 📱 支持的任务类型

### ✅ 简单任务（推荐）
- 打开应用
- 点击按钮
- 返回上一页
- 截图

**示例**:
```
"打开微信"
"返回"
"截图"
```

### ✅ 中等任务
- 应用内导航
- 简单搜索
- 基础设置调整

**示例**:
```
"打开设置，找到 WLAN"
"在抖音搜索编程教程"
```

### ⚠️ 复杂任务（实验性）
- 多步骤操作
- 需要等待的任务
- 跨应用操作

**示例**:
```
"在淘宝搜索机械键盘，然后截图前三个商品"
```

**注意**: 复杂任务可能不稳定，建议分解为多个简单任务执行。

---

## 🛡️ 安全功能

### 支付保护
- 检测到支付场景会**自动暂停**
- 包括：支付宝、微信支付、银行 App
- 需要用户手动完成支付操作

### 三级权限
- **绿区**: 自动执行（浏览、搜索）
- **黄区**: 需要确认（发送消息、修改设置）
- **红区**: 完全禁止（支付操作）

---

## 🐛 已知问题

### 当前限制
1. **模型准确性**: AI 决策可能不够精准，特别是复杂界面
2. **等待时间**: 固定等待时间，可能过长或过短
3. **兼容性**: 部分定制 UI 可能识别不准确
4. **性能**: 每步操作约需 3-5 秒（含 API 调用）

### 常见问题

**Q: 任务执行失败怎么办？**
A: 
- 检查 Shizuku 是否正常运行
- 确认 API Key 配置正确
- 尝试将复杂任务分解为多个简单步骤
- 查看错误提示，手动完成失败的步骤

**Q: AI 识别不准确？**
A:
- 确保屏幕内容清晰可见
- 避免在动画过程中执行任务
- 简化任务描述，使其更明确

**Q: 应用无响应？**
A:
- 强制停止应用重新打开
- 检查 Shizuku 服务状态
- 重启设备

**Q: API 调用失败？**
A:
- 检查网络连接
- 确认 API Key 有效
- 查看是否超出配额

---

## 🧪 测试建议

### 推荐测试流程

1. **基础功能测试**
   ```
   "打开设置"
   "返回"
   "打开计算器"
   ```

2. **应用导航测试**
   ```
   "打开设置，找到关于手机"
   "打开微信，切换到发现页"
   ```

3. **搜索功能测试**
   ```
   "在设置里搜索蓝牙"
   "在应用商店搜索抖音"
   ```

### 测试注意事项
- 每次测试后观察结果
- 记录失败的任务类型
- 注意 API 使用量（约 ¥0.002/千 tokens）

---

## 📊 性能指标

### 当前性能
- **单步响应**: 3-5 秒
- **截图捕获**: < 500ms
- **控件树解析**: < 200ms
- **API 调用**: 1-3 秒
- **内存占用**: 约 150MB

### 成本估算
- 简单任务: 约 ¥0.01-0.02
- 复杂任务: 约 ¥0.05-0.10
- 日常使用: 约 ¥5-10/月

---

## 🔄 下一步开发计划

### 即将加入的功能
- [ ] TodoList 动态更新和显示
- [ ] 悬浮球控制
- [ ] 任务模板系统
- [ ] 语音输入支持
- [ ] 本地模型选项（降低成本）

### 长期计划
- [ ] 定时任务
- [ ] 多任务队列
- [ ] 学习优化
- [ ] 跨应用自动化流程

---

## 📞 反馈与支持

### 如何反馈
遇到问题或有建议？请提供：
1. 任务描述
2. 失败步骤截图
3. 错误信息（如有）
4. 设备型号和系统版本

### 调试信息
查看应用日志：
```bash
adb logcat -s AutoAI:* Timber:*
```

---

## ⚠️ 重要提示

1. **这是 Beta 测试版本**，可能存在 bug 和不稳定情况
2. **不要用于生产环境**或重要任务
3. **支付操作**会被自动拦截，但仍需谨慎
4. **定期清理**任务历史和截图
5. **妥善保管** API Key

---

## 🙏 感谢测试

感谢您使用 AutoAI Beta 版本！您的反馈将帮助我们改进产品。

**祝您使用愉快！** 🎉
